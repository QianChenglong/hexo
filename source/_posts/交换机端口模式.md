---
title: 交换机端口模式
categories: [交换机]
tags: [交换机, 端口模式]
date: 2015-04-03 14:02:04
---

# access

-   收

    判断是否有VLAN信息

    -   如果没有则打上端口的PVID，并进行交换转发，

    -   如果有则直接丢弃（缺省）

-   发

    将报文的VLAN信息剥离，直接发送出去

# Trunk

-   收

    收到一个报文，判断是否有VLAN信息

    -   如果没有则打上端口的PVID，并进行交换转发，

    -   如果有判断该trunk端口是否允许该 VLAN的数据进入

        -   如果可以则转发

        -   否则丢弃

-   发

    比较端口的PVID和将要发送报文的VLAN信息

    -   如果两者相等则剥离VLAN信息，再发送

    -   如果不相等则直接发送

# Hybrid

-   收

    收到一个报文判断是否有VLAN信息

    -   如果没有则打上端口的PVID，并进行交换转发，

    -   如果有则判断该hybrid端口是否允许该VLAN的数据进入

        -   如果可以则转发

        -   否则丢弃

-   发

    判断该VLAN在本端口的属性（disp interface 即可看到该端口对哪些VLAN是untag， 哪些VLAN是tag）

    -   如果是untag则剥离VLAN信息，再发送

    -   如果是tag则直接发送
